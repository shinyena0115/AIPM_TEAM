# AIPM (AI-based Priority Management for Annual Leave)

> AI ê¸°ë°˜ ì—…ë¬´ ê¸°ì—¬ë„ ë¶„ì„ì„ í†µí•œ ì—°ì°¨ ìš°ì„ ìˆœìœ„ ì¶”ì²œ ì‹œìŠ¤í…œ

---

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### ëª©ì 
**íŒ€ì¥ì˜ ì—°ì°¨ ìŠ¹ì¸ ì—…ë¬´ ë¶€ë‹´ ê°ì†Œ**

ê¸°ì—… ë‚´ì—ì„œ ê°™ì€ ë‚ ì§œì— ì—¬ëŸ¬ íŒ€ì›ì´ íœ´ê°€ë¥¼ ì‹ ì²­í•  ê²½ìš°, íŒ€ì¥ì´ ëˆ„êµ¬ì—ê²Œ ìš°ì„ ê¶Œì„ ì¤„ì§€ íŒë‹¨í•˜ëŠ” ë° ì†Œìš”ë˜ëŠ” ì‹œê°„ê³¼ ê³ ë¯¼ì„ AIê°€ ëŒ€ì‹  ë¶„ì„í•˜ì—¬ ê°ê´€ì ì¸ ìš°ì„ ìˆœìœ„ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### í•µì‹¬ ê¸°ëŠ¥
1. **ì‚¬ì›**: ì—°ì°¨ ì‹ ì²­ (ë‚ ì§œ, ì‚¬ìœ  ì…ë ¥)
2. **AI**: ì—…ë¬´ ê¸°ì—¬ë„ ë¶„ì„ â†’ ìš°ì„ ìˆœìœ„ ìë™ ì¶”ì²œ
3. **íŒ€ì¥**: AI ì¶”ì²œì„ ì°¸ê³ í•˜ì—¬ ì—°ì°¨ ìŠ¹ì¸/ê±°ë¶€ ê²°ì •

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Framework**: Vue.js 3.2.13
- **UI Library**: Vuetify 3.0.0-beta.0 (Material Design)
- **State Management**: Vuex 4.0.0
- **Routing**: Vue Router 4.0.3
- **CSS Preprocessor**: LESS 4.0.0
- **Build Tool**: Vue CLI 5.0.0 + Webpack
- **Icons**: Material Design Icons (@mdi/font 5.9.55)
- **Fonts**: Roboto Font, Google Fonts

### Backend
- **Framework**: Express.js 4.16.1
- **Template Engine**: Jade/Pug
- **Middleware**:
  - Morgan (HTTP Request Logger)
  - Cookie Parser
  - Body Parser (JSON/URL-encoded)
- **Error Handling**: HTTP Errors
- **Dev Tool**: Nodemon (Auto-reload)

### AI Service
- **Provider**: OpenAI
- **Model**: GPT-4o Vision API
- **ìš©ë„**:
  - ì—…ë¬´ ê¸°ì—¬ë„ ë¶„ì„
  - ì—°ì°¨ ìš°ì„ ìˆœìœ„ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
  - ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì • ì§€ì›

### Runtime & Package Manager
- **Runtime**: Node.js
- **Package Manager**: npm
- **Version Control**: Git (optional)

### Development Environment
- **OS**: Windows
- **IDE**: VSCode
- **Port**:
  - Frontend Dev Server: 8080
  - Backend Server: 3000

---

## ğŸ‘¥ íŒ€ êµ¬ì„± ë° ì—­í•  ë¶„ë‹´

### ì‹ ì˜ˆë‚˜
**ë‹´ë‹¹**: ì—°ì°¨ ì‹ ì²­ ê¸°ëŠ¥
- ê°œì¸ ê·¼ë¬´ ì¼ì • ì…ë ¥ ê¸°ëŠ¥
- ì—°ì°¨ ì‹ ì²­ í¼ (ë‚ ì§œ, ì‚¬ìœ  ì…ë ¥)
- ì—°ì°¨ ì‹ ì²­ ë‚´ì—­ ì¡°íšŒ
- **ê°œë°œ ë²”ìœ„**:
  - Frontend: ì—°ì°¨ ì‹ ì²­ í˜ì´ì§€ UI/UX
  - Backend: ì—°ì°¨ ì‹ ì²­ API (POST, GET)

### ì´ì¬í˜
**ë‹´ë‹¹**: ë³¸ì¸ ì—°ì°¨ ì‚¬ìš© í˜„í™© ë° ì”ì—¬ ì¼ìˆ˜ í™•ì¸
- ì´ ì—°ì°¨/ì‚¬ìš© ì—°ì°¨/ì”ì—¬ ì—°ì°¨ í˜„í™© í‘œì‹œ
- ì—°ì°¨ ì‚¬ìš© ë‚´ì—­ ì¡°íšŒ (ë‚ ì§œ, ì‚¬ìœ , ìŠ¹ì¸ ìƒíƒœ)
- ì—°ì°¨ ì‚¬ìš©ë¥  ì‹œê°í™” (ê·¸ë˜í”„/ì§„í–‰ë°”)
- **ê°œë°œ ë²”ìœ„**:
  - Frontend: ì—°ì°¨ í˜„í™© ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
  - Backend: ì—°ì°¨ í˜„í™© ì¡°íšŒ API (GET)

### ì§„ì„±ì¬
**ë‹´ë‹¹**: ì—…ë¬´ ëŒ€ì²´ì ê²Œì‹œíŒ
- íŒ€ì› ì „ì²´ê°€ ëŒ€ì²´ì ì •ë³´ ì…ë ¥ ê°€ëŠ¥
- ë³¸ì¸ì´ ì‘ì„±í•œ ê¸€ë§Œ ì¡°íšŒ ê°€ëŠ¥
- **ê°œë°œ ë²”ìœ„**:
  - Frontend: ê²Œì‹œíŒ UI (CRUD)
  - Backend: ê²Œì‹œíŒ API + ê¶Œí•œ ì²˜ë¦¬

---

## ğŸ“‘ ê¸°ëŠ¥ ëª…ì„¸ì„œ

### 1. ì—°ì°¨ ì‹ ì²­ ê¸°ëŠ¥ (ì‹ ì˜ˆë‚˜)

#### ê¸°ëŠ¥ ì„¤ëª…
ì‚¬ì›ì´ ì—°ì°¨ë¥¼ ì‹ ì²­í•˜ê³ , ë³¸ì¸ì˜ ì‹ ì²­ ë‚´ì—­ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥

#### ì„¸ë¶€ ê¸°ëŠ¥
- ì—°ì°¨ ì‹ ì²­ í¼
  - ì‹œì‘ì¼/ì¢…ë£Œì¼ ì„ íƒ (Date Picker)
  - ì‚¬ìœ  ì…ë ¥ (Textarea)
  - ì‹ ì²­ ë²„íŠ¼
- ê°œì¸ ê·¼ë¬´ ì¼ì • ì…ë ¥
- ì—°ì°¨ ì‹ ì²­ ë‚´ì—­ ì¡°íšŒ
  - ì‹ ì²­ ë‚ ì§œ
  - ìŠ¹ì¸ ìƒíƒœ (ëŒ€ê¸°/ìŠ¹ì¸/ê±°ë¶€)
  - ì‚¬ìœ 

#### API ì„¤ê³„
| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| POST | `/api/vacation/apply` | ì—°ì°¨ ì‹ ì²­ |
| GET | `/api/vacation/my-applications` | ë³¸ì¸ ì‹ ì²­ ë‚´ì—­ ì¡°íšŒ |
| GET | `/api/schedule/me` | ë³¸ì¸ ê·¼ë¬´ ì¼ì • ì¡°íšŒ |
| POST | `/api/schedule/me` | ê·¼ë¬´ ì¼ì • ì…ë ¥ |

---

### 2. ì—°ì°¨ í˜„í™© í™•ì¸ ê¸°ëŠ¥ (ì´ì¬í˜) âœ… êµ¬í˜„ ì™„ë£Œ

#### ê¸°ëŠ¥ ì„¤ëª…
ì‚¬ì›ì´ ë³¸ì¸ì˜ ì—°ì°¨ ì‚¬ìš© í˜„í™©ê³¼ ì”ì—¬ ì¼ìˆ˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ëŒ€ì‹œë³´ë“œ

#### âœ… êµ¬í˜„ëœ ì„¸ë¶€ ê¸°ëŠ¥

##### 1. ì—°ì°¨ í˜„í™© ìš”ì•½ ì¹´ë“œ
- **3ê°œì˜ í†µê³„ ì¹´ë“œ**ë¡œ í•œëˆˆì— í™•ì¸
  - ì´ ì—°ì°¨: 15ì¼ (íŒŒë€ìƒ‰ ì¹´ë“œ)
  - ì‚¬ìš©í•œ ì—°ì°¨: ìŠ¹ì¸ëœ ì—°ì°¨ë§Œ ê³„ì‚° (ë…¸ë€ìƒ‰ ì¹´ë“œ)
  - ë‚¨ì€ ì—°ì°¨: ì´ ì—°ì°¨ - ì‚¬ìš©í•œ ì—°ì°¨ (ë…¹ìƒ‰ ì¹´ë“œ)
- **ì‚¬ìš©ë¥  ì§„í–‰ë°”**: ì—°ì°¨ ì‚¬ìš© í¼ì„¼í‹°ì§€ ì‹œê°í™”
- **í˜¸ë²„ íš¨ê³¼**: ê° ì¹´ë“œì— ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ì‚´ì§ ì˜¬ë¼ì˜¤ëŠ” ì• ë‹ˆë©”ì´ì…˜

##### 2. ì—°ì°¨ ì‚¬ìš© ë‚´ì—­ í…Œì´ë¸”
- **ìë™ ì¼ìˆ˜ ê³„ì‚°**: ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼ë¡œ ìë™ ê³„ì‚° (ë°±ì—”ë“œì—ì„œ ì²˜ë¦¬)
- **ìƒíƒœë³„ ìƒ‰ìƒ ë°°ì§€**:
  - ëŒ€ê¸°: ë…¸ë€ìƒ‰ ë°°ê²½
  - ìŠ¹ì¸: ë…¹ìƒ‰ ë°°ê²½
  - ë°˜ë ¤: ë¹¨ê°„ìƒ‰ ë°°ê²½
- **ë°˜ë ¤ ì‚¬ìœ  í‘œì‹œ**: ë°˜ë ¤ëœ ê²½ìš° ì‚¬ìœ  í™•ì¸ ê°€ëŠ¥
- **ìµœì‹ ìˆœ ì •ë ¬**: ì‹œì‘ì¼ ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ
- **ë¹ˆ ìƒíƒœ ì²˜ë¦¬**: ë°ì´í„° ì—†ì„ ë•Œ "ì—°ì°¨ ì‚¬ìš© ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤" ë©”ì‹œì§€

##### 3. í˜ì´ì§€ ê°„ ë„¤ë¹„ê²Œì´ì…˜
- "âœï¸ ì—°ì°¨ ì‹ ì²­í•˜ê¸°" ë²„íŠ¼: ì—°ì°¨ ì‹ ì²­ í˜ì´ì§€ë¡œ ì´ë™
- ì—°ì°¨ ì‹ ì²­ í˜ì´ì§€ì—ë„ "ğŸ“Š ì—°ì°¨ í˜„í™© ë³´ê¸°" ë²„íŠ¼ ì¶”ê°€

#### í™”ë©´ êµ¬ì„±
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ“Š ì—°ì°¨ í˜„í™©                                â”‚
â”‚      ë‚˜ì˜ ì—°ì°¨ ì‚¬ìš© í˜„í™©ê³¼ ë‚´ì—­ì„ í™•ì¸í•˜ì„¸ìš”             â”‚
â”‚            [âœï¸ ì—°ì°¨ ì‹ ì²­í•˜ê¸°]                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              ì—°ì°¨ ì‚¬ìš© í˜„í™©                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì´ ì—°ì°¨     â”‚  ì‚¬ìš©í•œ ì—°ì°¨  â”‚    ë‚¨ì€ ì—°ì°¨              â”‚
â”‚   15ì¼      â”‚    5ì¼       â”‚     10ì¼                 â”‚
â”‚  (íŒŒë€ìƒ‰)    â”‚  (ë…¸ë€ìƒ‰)     â”‚   (ë…¹ìƒ‰)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‚¬ìš©ë¥ : 33%                                             â”‚
â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              ğŸ“‹ ì—°ì°¨ ì‚¬ìš© ë‚´ì—­                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ì‹ ì²­ì¼â”‚    ê¸°ê°„     â”‚ì¼ìˆ˜ â”‚  ì‚¬ìœ   â”‚ ìƒíƒœ â”‚  ë°˜ë ¤ ì‚¬ìœ     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚11/01 â”‚10-15~10-16  â”‚ 2ì¼ â”‚ê°œì¸ì‚¬ìœ â”‚ ìŠ¹ì¸ â”‚     -        â”‚
â”‚10/28 â”‚09-20~09-20  â”‚ 1ì¼ â”‚ë³‘ì›ì§„ë£Œâ”‚ ìŠ¹ì¸ â”‚     -        â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### âœ… êµ¬í˜„ëœ API

##### 1. ì—°ì°¨ í˜„í™© ìš”ì•½ API
**ì—”ë“œí¬ì¸íŠ¸:** `GET /api/vacations/status`

**ê¸°ëŠ¥:**
- ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì—°ì°¨ í˜„í™© ìš”ì•½
- **ìŠ¹ì¸ëœ ì—°ì°¨ë§Œ** ê³„ì‚° (ëŒ€ê¸°/ë°˜ë ¤ ì œì™¸)
- ì´ ì—°ì°¨, ì‚¬ìš©í•œ ì—°ì°¨, ë‚¨ì€ ì—°ì°¨ ìë™ ê³„ì‚°

**ìš”ì²­:**
```http
GET http://localhost:3000/api/vacations/status
Cookie: session_cookie_name=xxx
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "status": {
    "totalDays": 15,
    "usedDays": 5,
    "remainingDays": 10
  }
}
```

**ê³„ì‚° ë¡œì§:**
```javascript
// 1. ìŠ¹ì¸ëœ ì—°ì°¨ë§Œ ì¡°íšŒ
const vacations = await Vacation.findAll({
  where: {
    user_id: sessionUser.id,
    status: "ìŠ¹ì¸"  // ì¤‘ìš”: ìŠ¹ì¸ëœ ê²ƒë§Œ!
  }
});

// 2. ê° ì—°ì°¨ì˜ ì¼ìˆ˜ ê³„ì‚° í›„ í•©ì‚°
let usedDays = 0;
vacations.forEach(v => {
  const days = Math.floor((endDate - startDate) / (1000*60*60*24)) + 1;
  usedDays += days;
});

// 3. ë‚¨ì€ ì—°ì°¨ ê³„ì‚°
const remainingDays = totalDays - usedDays;
```

##### 2. ì—°ì°¨ ì‚¬ìš© ë‚´ì—­ API
**ì—”ë“œí¬ì¸íŠ¸:** `GET /api/vacations/history`

**ê¸°ëŠ¥:**
- ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ **ëª¨ë“ ** ì—°ì°¨ ì‹ ì²­ ë‚´ì—­ ì¡°íšŒ
- ê° ì—°ì°¨ì˜ ì¼ìˆ˜ë¥¼ ë°±ì—”ë“œì—ì„œ ìë™ ê³„ì‚°
- ìµœì‹ ìˆœ ì •ë ¬ (startDate DESC)

**ìš”ì²­:**
```http
GET http://localhost:3000/api/vacations/history
Cookie: session_cookie_name=xxx
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "history": [
    {
      "vacation_id": 3,
      "startDate": "2024-11-10",
      "endDate": "2024-11-12",
      "days": 3,                    // â† ë°±ì—”ë“œì—ì„œ ìë™ ê³„ì‚°!
      "reason": "ê°€ì¡± ì—¬í–‰",
      "status": "ëŒ€ê¸°",
      "rejection_reason": null,
      "createdAt": "2024-10-28T10:30:00Z"
    },
    {
      "vacation_id": 2,
      "startDate": "2024-10-15",
      "endDate": "2024-10-16",
      "days": 2,
      "reason": "ê°œì¸ ì‚¬ìœ ",
      "status": "ìŠ¹ì¸",
      "rejection_reason": null,
      "createdAt": "2024-10-01T14:20:00Z"
    }
  ]
}
```

**ì¼ìˆ˜ ê³„ì‚° ë¡œì§:**
```javascript
const history = vacations.map(v => {
  const start = new Date(v.startDate);
  const end = new Date(v.endDate);
  const days = Math.floor((end - start) / (1000 * 60 * 60 * 24)) + 1;

  return {
    vacation_id: v.vacation_id,
    startDate: v.startDate,
    endDate: v.endDate,
    days: days,  // ê³„ì‚°ëœ ì¼ìˆ˜ ì¶”ê°€
    reason: v.reason,
    status: v.status,
    rejection_reason: v.rejection_reason,
    createdAt: v.createdAt
  };
});
```

#### íŒŒì¼ êµ¬ì¡°

**ë°±ì—”ë“œ:**
```
backend/routes/employee/vacation.js
  â”œâ”€ GET  /me       (ì‹ ì˜ˆë‚˜ - ì—°ì°¨ ë‚´ì—­ ì¡°íšŒ)
  â”œâ”€ POST /         (ì‹ ì˜ˆë‚˜ - ì—°ì°¨ ì‹ ì²­)
  â”œâ”€ GET  /status   (ì´ì¬í˜ - ì—°ì°¨ í˜„í™© ìš”ì•½) âœ…
  â””â”€ GET  /history  (ì´ì¬í˜ - ì—°ì°¨ ì‚¬ìš© ë‚´ì—­) âœ…
```

**í”„ë¡ íŠ¸ì—”ë“œ:**
```
front/src/views/Employee/
  â”œâ”€ EmployeeVacation.vue  (ì‹ ì˜ˆë‚˜ - ì—°ì°¨ ì‹ ì²­)
  â”‚   â””â”€ ë²„íŠ¼: [ğŸ“Š ì—°ì°¨ í˜„í™© ë³´ê¸°] â†’ VacationStatus.vue
  â””â”€ VacationStatus.vue    (ì´ì¬í˜ - ì—°ì°¨ í˜„í™©) âœ…
      â””â”€ ë²„íŠ¼: [âœï¸ ì—°ì°¨ ì‹ ì²­í•˜ê¸°] â†’ EmployeeVacation.vue
```

**ë¼ìš°í„°:**
```javascript
// front/src/router/index.js
{
  path: '/employee/vacation-status',
  name: 'VacationStatus',
  component: VacationStatus  // âœ… ì´ì¬í˜
}
```

#### ë°ì´í„° êµ¬ì¡°

**ì—°ì°¨ í˜„í™© (status):**
```typescript
{
  totalDays: number,      // ì´ ì—°ì°¨ (ê¸°ë³¸ 15ì¼)
  usedDays: number,       // ì‚¬ìš©í•œ ì—°ì°¨ (ìŠ¹ì¸ëœ ê²ƒë§Œ)
  remainingDays: number   // ë‚¨ì€ ì—°ì°¨ (totalDays - usedDays)
}
```

**ì—°ì°¨ ì‚¬ìš© ë‚´ì—­ (history):**
```typescript
{
  vacation_id: number,
  startDate: string,        // YYYY-MM-DD
  endDate: string,          // YYYY-MM-DD
  days: number,             // ì‚¬ìš© ì¼ìˆ˜ (ë°±ì—”ë“œ ê³„ì‚°)
  reason: string,           // ì‹ ì²­ ì‚¬ìœ 
  status: string,           // "ëŒ€ê¸°" | "ìŠ¹ì¸" | "ë°˜ë ¤"
  rejection_reason: string | null,  // ë°˜ë ¤ ì‚¬ìœ 
  createdAt: string         // ISO 8601 ë‚ ì§œ
}
```

#### ê¸°ìˆ ì  íŠ¹ì§•

##### 1. Vue 3 Composition API ë¯¸ì‚¬ìš©
- Options API ì‚¬ìš© (ì‹ ì˜ˆë‚˜ ì½”ë“œì™€ í†µì¼ì„± ìœ ì§€)
- `data()`, `computed`, `methods`, `created()` ì‚¬ìš©

##### 2. Axios ì„¸ì…˜ ì¸ì¦
```javascript
axios.get("http://localhost:3000/api/vacations/status", {
  withCredentials: true,  // ì„¸ì…˜ ì¿ í‚¤ í¬í•¨
});
```

##### 3. ë°˜ì‘í˜• ë””ìì¸
```css
@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: 1fr;  // ëª¨ë°”ì¼ì—ì„œëŠ” ì„¸ë¡œë¡œ
  }
}
```

##### 4. ê³„ì‚°ëœ ì†ì„± (Computed Property)
```javascript
computed: {
  usagePercent() {
    if (this.status.totalDays === 0) return 0;
    return Math.round((this.status.usedDays / this.status.totalDays) * 100);
  }
}
```

#### ë™ì‘ íë¦„

```
1. ì‚¬ìš©ìê°€ /employee/vacation-status ì ‘ì†
   â†“
2. created() í›…ì—ì„œ API 2ê°œ ë™ì‹œ í˜¸ì¶œ
   - loadStatus()  â†’ GET /api/vacations/status
   - loadHistory() â†’ GET /api/vacations/history
   â†“
3. ë°±ì—”ë“œì—ì„œ ì„¸ì…˜ í™•ì¸ (req.session.user)
   â†“
4. DBì—ì„œ ì‚¬ìš©ìì˜ ì—°ì°¨ ë°ì´í„° ì¡°íšŒ
   - status: ìŠ¹ì¸ëœ ì—°ì°¨ë§Œ ê³„ì‚°
   - history: ëª¨ë“  ì—°ì°¨ + ì¼ìˆ˜ ê³„ì‚°
   â†“
5. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°ì´í„° í‘œì‹œ
   - í†µê³„ ì¹´ë“œ ì—…ë°ì´íŠ¸
   - ì§„í–‰ë°” ì• ë‹ˆë©”ì´ì…˜
   - í…Œì´ë¸” ë Œë”ë§
```

#### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

1. **ì´ˆê¸° ìƒíƒœ (ì—°ì°¨ ì—†ìŒ)**
   - ì´ ì—°ì°¨: 15ì¼
   - ì‚¬ìš©í•œ ì—°ì°¨: 0ì¼
   - ë‚¨ì€ ì—°ì°¨: 15ì¼
   - ì‚¬ìš©ë¥ : 0%
   - í…Œì´ë¸”: "ì—°ì°¨ ì‚¬ìš© ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤"

2. **ì—°ì°¨ ì‹ ì²­ í›„ (ëŒ€ê¸° ìƒíƒœ)**
   - ì—°ì°¨ ì‹ ì²­: 2024-11-10 ~ 11-12 (3ì¼)
   - historyì—ëŠ” í‘œì‹œë¨ (ìƒíƒœ: ëŒ€ê¸°)
   - statusëŠ” ë³€í™” ì—†ìŒ (ìŠ¹ì¸ ì•ˆë¨)

3. **ë§¤ë‹ˆì € ìŠ¹ì¸ í›„**
   - ì‚¬ìš©í•œ ì—°ì°¨: 3ì¼ë¡œ ì¦ê°€ âœ…
   - ë‚¨ì€ ì—°ì°¨: 12ì¼ë¡œ ê°ì†Œ âœ…
   - ì‚¬ìš©ë¥ : 20%
   - history ìƒíƒœ: "ìŠ¹ì¸" (ë…¹ìƒ‰ ë°°ì§€) âœ…

4. **ì¶”ê°€ ì—°ì°¨ ì‹ ì²­ ë° ìŠ¹ì¸**
   - 2ì¼ ì¶”ê°€ ìŠ¹ì¸ ì‹œ
   - ì‚¬ìš©í•œ ì—°ì°¨: 5ì¼
   - ë‚¨ì€ ì—°ì°¨: 10ì¼
   - ì‚¬ìš©ë¥ : 33%

#### ì£¼ìš” ê°œì„  ì‚¬í•­

##### ì‹ ì˜ˆë‚˜ APIì™€ ì°¨ì´ì :
| í•­ëª© | ì‹ ì˜ˆë‚˜ `/me` | ì´ì¬í˜ `/history` |
|------|-------------|------------------|
| ì¼ìˆ˜ ê³„ì‚° | âŒ í”„ë¡ íŠ¸ì—ì„œ ê³„ì‚° | âœ… ë°±ì—”ë“œì—ì„œ ê³„ì‚° |
| ë°˜ë ¤ ì‚¬ìœ  | âŒ ì—†ìŒ | âœ… í¬í•¨ |
| ì •ë ¬ | createdAt | startDate (ë” ì§ê´€ì ) |
| ì‘ë‹µ í•„ë“œ | ìµœì†Œí•œ | ìƒì„¸ (createdAt í¬í•¨) |

##### UX ê°œì„ :
- í˜¸ë²„ íš¨ê³¼ë¡œ ì¸í„°ë™í‹°ë¸Œí•¨ ì¦ê°€
- ìƒ‰ìƒ êµ¬ë¶„ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ
- ì§„í–‰ë°” ì• ë‹ˆë©”ì´ì…˜ (0.6s ease)
- ë¹ˆ ìƒíƒœ ë©”ì‹œì§€ë¡œ ì‚¬ìš©ì í˜¼ë€ ë°©ì§€

---

### 3. ì—…ë¬´ ëŒ€ì²´ì ê²Œì‹œíŒ (ì§„ì„±ì¬)

#### ê¸°ëŠ¥ ì„¤ëª…
ì—°ì°¨ ì‚¬ìš© ì‹œ ì—…ë¬´ë¥¼ ëŒ€ì‹ í•  íŒ€ì›ì„ ì§€ì •í•˜ëŠ” ê²Œì‹œíŒ

#### ì„¸ë¶€ ê¸°ëŠ¥
- ëŒ€ì²´ì ì •ë³´ ì…ë ¥ (íŒ€ì› ì „ì²´ ì ‘ê·¼ ê°€ëŠ¥)
  - íœ´ê°€ì ì´ë¦„
  - íœ´ê°€ ê¸°ê°„
  - ëŒ€ì²´ì ì´ë¦„
  - ì¸ìˆ˜ì¸ê³„ ë‚´ìš©
- ë³¸ì¸ì´ ì‘ì„±í•œ ê¸€ë§Œ ì¡°íšŒ ê°€ëŠ¥ (ê¶Œí•œ ì²˜ë¦¬)
- ê²Œì‹œê¸€ CRUD
  - ì‘ì„± (Create)
  - ì¡°íšŒ (Read) - ë³¸ì¸ë§Œ
  - ìˆ˜ì • (Update) - ë³¸ì¸ë§Œ
  - ì‚­ì œ (Delete) - ë³¸ì¸ë§Œ

#### API ì„¤ê³„
| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| POST | `/api/substitute/create` | ëŒ€ì²´ì ì •ë³´ ë“±ë¡ |
| GET | `/api/substitute/my-posts` | ë³¸ì¸ ì‘ì„±ê¸€ ì¡°íšŒ |
| PUT | `/api/substitute/:id` | ëŒ€ì²´ì ì •ë³´ ìˆ˜ì • |
| DELETE | `/api/substitute/:id` | ëŒ€ì²´ì ì •ë³´ ì‚­ì œ |

---

## ğŸ¤– AI ê¸°ëŠ¥ ëª…ì„¸

### OpenAI GPT-4o Vision API

#### ì‚¬ìš© ëª©ì 
**ì—…ë¬´ ê¸°ì—¬ë„ ê¸°ë°˜ ì—°ì°¨ ìš°ì„ ìˆœìœ„ ìë™ ì¶”ì²œ**

ë™ì¼í•œ ë‚ ì§œì— ì—¬ëŸ¬ íŒ€ì›ì´ ì—°ì°¨ë¥¼ ì‹ ì²­í–ˆì„ ë•Œ, AIê°€ ê° íŒ€ì›ì˜ ì—…ë¬´ ê¸°ì—¬ë„ë¥¼ ë¶„ì„í•˜ì—¬ ëˆ„êµ¬ì—ê²Œ ìš°ì„ ê¶Œì„ ì¤„ì§€ ì¶”ì²œí•©ë‹ˆë‹¤.

#### ë¶„ì„ ìš”ì†Œ
AIê°€ ê³ ë ¤í•˜ëŠ” ì—…ë¬´ ê¸°ì—¬ë„ ì§€í‘œ:
1. **ìµœê·¼ ì—…ë¬´ ì„±ê³¼**
   - í”„ë¡œì íŠ¸ ì™„ë£Œìœ¨
   - ì—…ë¬´ ì²˜ë¦¬ ì†ë„
   - í’ˆì§ˆ í‰ê°€

2. **íŒ€ ê¸°ì—¬ë„**
   - í˜‘ì—… ì°¸ì—¬ë„
   - ì§€ì‹ ê³µìœ  í™œë™
   - ë©˜í† ë§/ì§€ì› í™œë™

3. **ì—°ì°¨ ì‚¬ìš© íŒ¨í„´**
   - ìµœê·¼ ì—°ì°¨ ì‚¬ìš© ë¹ˆë„
   - ì”ì—¬ ì—°ì°¨ ì¼ìˆ˜
   - ê¸´ê¸‰ ì—°ì°¨ ì‚¬ìš© ì´ë ¥

4. **ì—…ë¬´ ìƒí™©**
   - ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸ ìš°ì„ ìˆœìœ„
   - ëŒ€ì²´ ê°€ëŠ¥ ì—¬ë¶€
   - ì—…ë¬´ ê³µë°± ì˜í–¥ë„

#### API í†µí•© ë°©ì‹
```javascript
// í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ì´ë¯¸ ì„¤ì •ë¨)
// OPENAI_API_KEY=sk-...

// ì¶”ì²œ ìš”ì²­ ì˜ˆì‹œ
POST /api/ai/recommend-priority
Request Body:
{
  "date": "2024-11-15",
  "applicants": [
    {
      "userId": "user123",
      "name": "í™ê¸¸ë™",
      "performance": { ... },
      "vacationHistory": [ ... ]
    },
    ...
  ]
}

Response:
{
  "date": "2024-11-15",
  "recommendations": [
    {
      "userId": "user123",
      "name": "í™ê¸¸ë™",
      "priority": 1,
      "score": 85,
      "reason": "ìµœê·¼ í”„ë¡œì íŠ¸ ì™„ë£Œ í›„ ì—°ì°¨ ë¯¸ì‚¬ìš© ê¸°ê°„ì´ ê°€ì¥ ê¸¸ë©°, í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ì—…ë¬´ê°€ ì—†ìŒ"
    },
    ...
  ]
}
```

#### Vision API í™œìš© (ì„ íƒì )
- ì—…ë¬´ ë³´ê³ ì„œ ì´ë¯¸ì§€ ë¶„ì„
- ì„±ê³¼ ê·¸ë˜í”„ ìë™ í•´ì„
- ë¬¸ì„œ ê¸°ë°˜ ê¸°ì—¬ë„ í‰ê°€

#### í™˜ê²½ ë³€ìˆ˜
```
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=1000
```

---

## ğŸ—‚ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
AIPM/
â”œâ”€â”€ backend/                    # Express.js ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ app.js                 # Express ì•± ì„¤ì •
â”‚   â”œâ”€â”€ bin/
â”‚   â”‚   â””â”€â”€ www                # ì„œë²„ ì§„ì…ì  (port 3000)
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ index.js           # ê¸°ë³¸ ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ vacation.js        # ì—°ì°¨ ê´€ë ¨ API (NEW)
â”‚   â”‚   â”œâ”€â”€ schedule.js        # ê·¼ë¬´ ì¼ì • API (NEW)
â”‚   â”‚   â”œâ”€â”€ substitute.js      # ëŒ€ì²´ì ê²Œì‹œíŒ API (NEW)
â”‚   â”‚   â””â”€â”€ ai.js              # AI ì¶”ì²œ API (NEW)
â”‚   â”œâ”€â”€ models/                # ë°ì´í„° ëª¨ë¸ (NEW)
â”‚   â”œâ”€â”€ middleware/            # ì¸ì¦/ê¶Œí•œ ë¯¸ë“¤ì›¨ì–´ (NEW)
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ openai.js          # OpenAI API í†µí•© (NEW)
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ .env                   # í™˜ê²½ ë³€ìˆ˜ (OPENAI_API_KEY)
â”‚
â”œâ”€â”€ front/                      # Vue.js í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.js            # ì•± ì§„ì…ì 
â”‚   â”‚   â”œâ”€â”€ App.vue            # ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ router/
â”‚   â”‚   â”‚   â””â”€â”€ index.js       # ë¼ìš°íŒ… ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”‚   â””â”€â”€ index.js       # Vuex ìŠ¤í† ì–´
â”‚   â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”‚   â”œâ”€â”€ HomeView.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ VacationApply.vue        # ì—°ì°¨ ì‹ ì²­ (ì‹ ì˜ˆë‚˜)
â”‚   â”‚   â”‚   â”œâ”€â”€ VacationStatus.vue       # ì—°ì°¨ í˜„í™© (ì´ì¬í˜)
â”‚   â”‚   â”‚   â”œâ”€â”€ SubstituteBoard.vue      # ëŒ€ì²´ì ê²Œì‹œíŒ (ì§„ì„±ì¬)
â”‚   â”‚   â”‚   â””â”€â”€ AdminDashboard.vue       # íŒ€ì¥ ëŒ€ì‹œë³´ë“œ (AI ì¶”ì²œ)
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ VacationStatusCard.vue   # ì—°ì°¨ í˜„í™© ì¹´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ VacationHistoryTable.vue # ì—°ì°¨ ë‚´ì—­ í…Œì´ë¸”
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ plugins/
â”‚   â”‚   â”‚   â”œâ”€â”€ vuetify.js
â”‚   â”‚   â”‚   â””â”€â”€ webfontloader.js
â”‚   â”‚   â””â”€â”€ assets/
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vue.config.js
â”‚   â””â”€â”€ babel.config.js
â”‚
â””â”€â”€ README.md                   # ì´ ë¬¸ì„œ
```

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Node.js ì„¤ì¹˜
- npm íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €
- OpenAI API Key

### ì„¤ì¹˜ ë° ì‹¤í–‰

#### 1. ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰
```bash
cd backend
npm install
npm start
# http://localhost:3000 ì—ì„œ ì‹¤í–‰
```

#### 2. í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
cd front
npm install
npm run serve
# http://localhost:8080 ì—ì„œ ì‹¤í–‰
```

#### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
`backend/.env` íŒŒì¼ ìƒì„±:
```
OPENAI_API_KEY=your-api-key-here
OPENAI_MODEL=gpt-4o
PORT=3000
```

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ (ì˜ˆì •)

### Users (ì‚¬ìš©ì)
```
- id: PK
- name: String
- email: String
- role: String (employee/manager)
- department: String
- team: String
- totalVacationDays: Number (ê¸°ë³¸ 15ì¼)
```

### Vacations (ì—°ì°¨ ì‹ ì²­)
```
- id: PK
- userId: FK
- startDate: Date
- endDate: Date
- reason: String
- status: String (pending/approved/rejected)
- appliedAt: Timestamp
- approvedBy: FK (manager userId)
- approvedAt: Timestamp
- aiScore: Number (AI ìš°ì„ ìˆœìœ„ ì ìˆ˜)
- aiReason: String (AI ì¶”ì²œ ì´ìœ )
```

### Schedules (ê·¼ë¬´ ì¼ì •)
```
- id: PK
- userId: FK
- date: Date
- workType: String (office/remote/meeting)
- description: String
```

### Substitutes (ì—…ë¬´ ëŒ€ì²´ì)
```
- id: PK
- vacationId: FK
- authorId: FK (ì‘ì„±ì)
- substituteUserId: FK (ëŒ€ì²´ì)
- tasks: Text (ì¸ìˆ˜ì¸ê³„ ë‚´ìš©)
- createdAt: Timestamp
- updatedAt: Timestamp
```

---

## ğŸ” ì¸ì¦ ë° ê¶Œí•œ

### ì¸ì¦ ë°©ì‹ (ì˜ˆì •)
- JWT (JSON Web Token)
- ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦

### ê¶Œí•œ ë ˆë²¨
1. **Employee (ì‚¬ì›)**
   - ë³¸ì¸ ì—°ì°¨ ì‹ ì²­/ì¡°íšŒ
   - ë³¸ì¸ ì—°ì°¨ í˜„í™© í™•ì¸
   - ëŒ€ì²´ì ê²Œì‹œíŒ ì‘ì„±/ì¡°íšŒ

2. **Manager (íŒ€ì¥)**
   - Employee ê¶Œí•œ í¬í•¨
   - íŒ€ì› ì—°ì°¨ ì‹ ì²­ ìŠ¹ì¸/ê±°ë¶€
   - AI ì¶”ì²œ ê²°ê³¼ ì¡°íšŒ
   - íŒ€ ì „ì²´ ì—°ì°¨ í˜„í™© ì¡°íšŒ

---

## ğŸ“… ê°œë°œ ì¼ì • (ì˜ˆì •)

### Phase 1: ê¸°ë³¸ ê¸°ëŠ¥ ê°œë°œ
- [ ] ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ
- [ ] ì—°ì°¨ ì‹ ì²­ ê¸°ëŠ¥ (ì‹ ì˜ˆë‚˜)
- [ ] ì—°ì°¨ í˜„í™© í™•ì¸ ê¸°ëŠ¥ (ì´ì¬í˜)
- [ ] ì—…ë¬´ ëŒ€ì²´ì ê²Œì‹œíŒ (ì§„ì„±ì¬)

### Phase 2: AI í†µí•©
- [ ] OpenAI API ì—°ë™
- [ ] ì—…ë¬´ ê¸°ì—¬ë„ ë¶„ì„ ë¡œì§
- [ ] ìš°ì„ ìˆœìœ„ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

### Phase 3: íŒ€ì¥ ê¸°ëŠ¥
- [ ] íŒ€ì¥ ëŒ€ì‹œë³´ë“œ
- [ ] ì—°ì°¨ ìŠ¹ì¸/ê±°ë¶€ ê¸°ëŠ¥
- [ ] AI ì¶”ì²œ ê²°ê³¼ í‘œì‹œ

### Phase 4: ê³ ë„í™”
- [ ] ì‹¤ì‹œê°„ ì•Œë¦¼ (ì‹ ì²­/ìŠ¹ì¸)
- [ ] í†µê³„ ë° ë¦¬í¬íŠ¸
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• UI

---

## ğŸ¤ ê¸°ì—¬ ê°€ì´ë“œ

### Git Workflow (ì˜ˆì •)
```bash
# ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/vacation-status

# ê°œë°œ í›„ ì»¤ë°‹
git add .
git commit -m "feat: ì—°ì°¨ í˜„í™© ì¡°íšŒ API êµ¬í˜„"

# í‘¸ì‹œ
git push origin feature/vacation-status
```

### ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜
- `feat:` ìƒˆë¡œìš´ ê¸°ëŠ¥
- `fix:` ë²„ê·¸ ìˆ˜ì •
- `docs:` ë¬¸ì„œ ìˆ˜ì •
- `style:` ì½”ë“œ í¬ë§·íŒ…
- `refactor:` ë¦¬íŒ©í† ë§
- `test:` í…ŒìŠ¤íŠ¸ ì½”ë“œ
- `chore:` ë¹Œë“œ/ì„¤ì • ë³€ê²½

---

## ğŸ“ ë¼ì´ì„¼ìŠ¤

Team Project - Educational Purpose

---

## ğŸ‘¨â€ğŸ’» íŒ€ì›

- **ì‹ ì˜ˆë‚˜** - ì—°ì°¨ ì‹ ì²­ ê¸°ëŠ¥
- **ì´ì¬í˜** - ì—°ì°¨ í˜„í™© í™•ì¸ ê¸°ëŠ¥
- **ì§„ì„±ì¬** - ì—…ë¬´ ëŒ€ì²´ì ê²Œì‹œíŒ

---

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì€ íŒ€ì›ì—ê²Œ ì—°ë½í•´ì£¼ì„¸ìš”.

---

**Last Updated**: 2025-11-01